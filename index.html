<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Scanner</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        #qr-reader {
            width: 320px;
            max-width: 400px;
        }

        #qr-result {
            font-size: 1.5rem;
            font-weight: bold;
            color: green;
            margin-top: 10px;
        }
    </style>
</head>

<body class="d-flex justify-content-center align-items-center vh-100 bg-light">

    <div class="text-center">
        <h3>üì∑ ‡∏™‡πÅ‡∏Å‡∏ô QR Code</h3>
        <div id="qr-reader"></div>
        <p id="qr-result" class="mt-3"></p>
    </div>

    <audio id="beep-sound">
        <source src="https://semicon.github.io/sounds/store-scanner-beep-90395.mp3" type="audio/wav">
    </audio>

    <script>
        function onScanSuccess(decodedText) {
            const resultElement = document.getElementById("qr-result");
            resultElement.innerHTML = `‚úÖ ‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: ${decodedText}`;

            // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ö‡∏µ‡πä‡∏ö
            document.getElementById("beep-sound").play();

            // ‡∏´‡∏¢‡∏∏‡∏î‡∏™‡πÅ‡∏Å‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏™‡πÅ‡∏Å‡∏ô‡∏ï‡πà‡∏≠ ‡πÉ‡∏´‡πâ‡∏•‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å)
            qrScanner.stop();
        }

        function onScanFailure(error) {
            // ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏ö QR Code
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡πÅ‡∏Å‡∏ô
        const qrScanner = new Html5Qrcode("qr-reader");
        qrScanner.start(
            { facingMode: "environment" }, // ‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á
            { fps: 10, qrbox: 200 },
            onScanSuccess,
            onScanFailure
        );
    </script>

</body>

</html>
